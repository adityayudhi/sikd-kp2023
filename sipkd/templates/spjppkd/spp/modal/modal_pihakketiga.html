<div style="padding-bottom:20px;">
	<div class="legenda_tbl" style="padding-top:10px;">
		<span id="pihakketiga_click">Silahkan Pilih Pihak Ketiga</span>
	</div>
	<table id="pihakketiga_mdl" class="display responsive nowrap" cellspacing="0" width="100%">
		<thead>
			<tr>				
				<th>NAMA PERUSAHAAN</th>
				<th>BENTUK PERUSAHAAN</th>
				<th>ALAMAT PERUSAHAAN</th>
				<th>NAMA PIMPINAN PERUSAHAAN</th>
				<th>NPWP</th>
				<th>NAMA BANK</th>
				<th>NO REKENING</th>
				<th>PEMILIK REKENING</th>
				<th>NO KONTRAK</th>				
			</tr>
		</thead>
		<tbody>
			{% for dt in list_pihak %}
			<tr style="cursor:pointer;">				
				<td align="left">{{dt.namaperusahaan}}</td>
				<td align="left">{{dt.bentukperusahaan}}</td>
				<td align="left">{{dt.alamatperusahaan}}</td>
				<td align="left">{{dt.namapimpinanperusahaan}}</td>
				<td align="left">{{dt.npwp}}</td>
				<td align="left">{{dt.namabank}}</td>
				<td align="left">{{dt.norekperusahaan}}</td>
				<td align="left">{{dt.namarekeningbank}}</td>
				<td align="left">{{dt.nokontrak}}</td>				
			</tr>
			{% endfor %}
		</tbody>
	</table>
	<span style="font-size: 11px;">* klik 2 kali pada kolom tabel untuk mengambil data pihak ketiga</span>
</div>
<script type="text/javascript">
    $(document).ready(function () {    	

        var table 	= $('#pihakketiga_mdl').DataTable({
			scrollY: 212,
			sScrollX:"100%",
			paging: false,
			"columnDefs": [{className: "hidden",  "searchable": false}],
		});

		adjust_datatable();

		var count 	= table.rows().data().length;

		$('#pihakketiga_mdl td').dblclick(function () {

      		var Nama, Alamat, Bentuk, Pimpinan, Npwp, Namabank, Norek, Namarekeningbank,Kontrak;

      		if(count > 0){
      			var row 	= $(this).closest('tr'); 
			    var $nama   = row.find('td:nth-child(1)');
			    var $bentuk = row.find('td:nth-child(2)');
			    var $alamat = row.find('td:nth-child(3)');	
			    var $pimpinan = row.find('td:nth-child(4)');
			    var $npwp = row.find('td:nth-child(5)');
			    var $namabank = row.find('td:nth-child(6)');
			    var $norek = row.find('td:nth-child(7)');
			    var $namarekeningbank = row.find('td:nth-child(8)');
			    var $nokontrak = row.find('td:nth-child(9)');			    

		      	$.each($nama, function(){ Nama 	= $(this).text();}); 
		      	$.each($alamat, function(){ Alamat = $(this).text();}); 
		      	$.each($bentuk, function(){ Bentuk 	= $(this).text();}); 
		      	$.each($pimpinan, function(){ Pimpinan 	= $(this).text();});
		      	$.each($npwp, function(){ Npwp 	= $(this).text();});
		      	$.each($namabank, function(){ Namabank 	= $(this).text();});
		      	$.each($norek, function(){ Norek 	= $(this).text();});
		      	$.each($namarekeningbank, function(){ Namarekeningbank 	= $(this).text();});
		      	$.each($nokontrak, function(){ Kontrak 	= $(this).text();});       	 
		      	
		      	document.getElementById('nama_perusahaan').value = Nama;
		      	document.getElementById('alamat_perusahaan').value = Alamat;
		      	document.getElementById('bentuk_perusahaan').value = Bentuk;
		      	document.getElementById('pimp_perusahaan').value = Pimpinan;
		      	document.getElementById('npwp_perusahaan').value = Npwp;
		      	document.getElementById('bank_perusahaan').value = Namabank;
		      	document.getElementById('norek_perusahaan').value = Norek;	  
		      	document.getElementById('nama_rekening_bank').value = Namarekeningbank;	  
		      	document.getElementById('nomor_kontrak').value = Kontrak;	       	
      		}

	      	$('#showModal').modal('hide');
		});

		$("#pihakketiga_mdl  tr").click(function(){
			var tr = $(this).closest("tr");
            var kd = tr.find('td:nth-child(1)').text();            
			$("#pihakketiga_click").html(kd);
            $('.selected').removeClass('selected');
            $(this).addClass('selected');
            var tr          = $(this).closest("tr");
                RowIndek    = tr.index();

            var Kls         = tr.attr('class');
            var arKl        = Kls.split(" ");
                clsSelek    = arKl[1];
        });
    });
</script>